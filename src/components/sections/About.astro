---
import AngleEdge from "../ui/AngleEdge.astro";

/**
 * - Works with or without image
 */

const {
  id,
  title,
  subtitle = "",
  body = `At Harbor & Co., we believe every small business deserves a professional online presence. We create clean, modern websites that highlight what makes your work unique — without the high agency costs. 
  
  We focus on clarity, speed, and ease — so you can focus on running your business.`,
  image,
  showImage = true,
  bg,          // surface | alt | primary-tint | accent-tint
  nextBg,
  angleTop,   // boolean
  angleBottom,
  dirTop,  // left | right
  dirBottom,
} = Astro.props;

const bgClass = `section-${bg}`;
const nextColor = `var(--color-${nextBg})`;
---

<section id={id} class={`section ${bgClass}`}>
  {angleTop && <AngleEdge position="top" direction={dirTop} fill={bgClass} height={100} />}

  <div class="mx-auto max-w-6xl px-6 py-20 md:py-28 grid md:grid-cols-2 gap-12 items-center">
    {showImage && (
      <div class="flex justify-center">
        <img
          src={image}
          alt=""
          loading="lazy"
          class="w-full max-w-sm rounded-lg shadow-lg border border-[var(--color-primary)] border-line"
        />
      </div>
    )}
    <div class="text-center md:text-left px-6 space-y-4">
      <h2 class="text-3xl font-bold tracking-tight">{title}</h2>
      {subtitle && <p class="text-primary font-medium">{subtitle}</p>}
      <p class="text-muted leading-relaxed whitespace-pre-line">{body}</p>
    </div>
  </div>

  {angleBottom && <AngleEdge position="bottom" direction={dirBottom} fill={nextColor} height={100} />}
</section>
