---
import site from "../../config/site";
import AngleEdge from "../ui/AngleEdge.astro";

const {
  id,
  bg,           // surface | alt | primary-tint | accent-tint
  angleTop ,    // boolean
  angleBottom,  // boolean
  dirTop,       // left | right
  dirBottom,    // left | right
  nextBg,       // surface | alt | primary-tint | accent-tint
} = Astro.props;

const bgClass =
  bg === "alt" ? "section-alt"
  : bg === "primary-tint" ? "section-primary-tint"
  : bg === "accent-tint" ? "section-accent-tint"
  : "section-surface";

const nextColor =
  nextBg === "alt" ? "#F8FAFC"
  : nextBg === "primary-tint" ? "color-mix(in srgb, #2563EB 6%, #ffffff)"
  : nextBg === "accent-tint" ? "color-mix(in srgb, #F59E0B 6%, #ffffff)"
  : "#FFFFFF";
---

<section id={id} class={`section ${bgClass}`}>
  {angleTop && <AngleEdge position="top" direction={dirTop} fill="#FFFFFF" height={110} />}

  <div class="mx-auto max-w-6xl px-6 sm:px-8 md:px-12 lg:px-16 xl:px-20 py-20 md:py-28">
    <div class="grid md:grid-cols-12 gap-x-12 gap-y-10 items-start">
      <!-- Left: Contact card -->
      <aside class="md:col-span-5 self-stretch">
        <div class="rounded-lg border border-line bg-white/70 backdrop-blur-sm p-6 md:p-8 shadow-sm">
          <h2 class="text-2xl md:text-3xl font-bold tracking-tight">Get in touch</h2>
          <p class="mt-3 text-muted">
            Have a project in mind? Send a message and we‚Äôll get back to you shortly.
          </p>

          <ul class="mt-6 grid gap-3 text-sm">
            <li class="flex items-start gap-3">
              <span aria-hidden="true">‚úâÔ∏è</span>
              <a href="mailto:hello@example.com" class="hover:text-primary">hello@example.com</a>
            </li>
            <li class="flex items-start gap-3">
              <span aria-hidden="true">üìû</span>
              <a href="tel:+15555551212" class="hover:text-primary">(555) 555-1212</a>
            </li>
            <li class="flex items-start gap-3">
              <span aria-hidden="true">üìç</span>
              <span>123 Main St, Anytown, USA</span>
            </li>
          </ul>
        </div>
      </aside>

      <!-- Right: Form with vertical divider -->
      <div class="md:col-span-7 md:border-l md:border-line md:pl-12">
        <form name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" class="max-w-xl grid gap-4">
          <input type="hidden" name="form-name" value="contact" />
          <p class="hidden">
            <label>Don't fill this out if your're human:
              <input name="bot-field"/>            
            </label>
          </p>
          <label class="grid gap-1">
            <span class="text-sm font-medium">Name</span>
            <input
              required
              type="text"
              name="name"
              placeholder="Jane Doe"
              class="w-full rounded-md border border-line px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary/30"
            />
          </label>

          <label class="grid gap-1">
            <span class="text-sm font-medium">Email</span>
            <input
              required
              type="email"
              name="email"
              placeholder="you@example.com"
              class="w-full rounded-md border border-line px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary/30"
            />
          </label>

          <label class="grid gap-1">
            <span class="text-sm font-medium">Message</span>
            <textarea
              required
              name="message"
              rows="6"
              placeholder="Say hello"
              class="w-full rounded-md border border-line px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary/30"
            />
          </label>

          <div class="pt-2">
            <button
              type="submit"
              class="inline-flex items-center gap-2 rounded-md bg-primary px-5 py-2.5 text-white font-medium hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-primary/40"
            >
              Send Message
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  {angleBottom && <AngleEdge position="bottom" direction={dirBottom} fill={nextColor} height={110} />}
</section>
